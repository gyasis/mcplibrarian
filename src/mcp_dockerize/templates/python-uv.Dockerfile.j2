FROM python:{{ runtime_version }}-slim

WORKDIR /app

# Install uv
RUN pip install uv --no-cache-dir

# Copy project files
COPY pyproject.toml .
COPY uv.lock .
COPY . .

# Install dependencies via uv
RUN uv sync --no-dev --frozen

ENTRYPOINT ["uv", "run", "{{ entry_point }}"]
